[changelog]
# è®¾ç½®å˜æ›´æ—¥å¿—çš„æ ‡é¢˜
header = """
# Changelog\n
All notable changes to this project will be documented in this file.\n
"""

# è®¾ç½®æ¯ä¸ªç‰ˆæœ¬çš„æ¨¡æ¿
body = """
{% if version %}\
    ## [{{ version | trim_start_matches(pat="v") }}] - {{ timestamp | date(format="%Y-%m-%d") }}
{% else %}\
    ## [unreleased]
{% endif %}\
{% for group, commits in commits | group_by(attribute="group") %}
    ### {{ group | striptags | trim | upper_first }}
    {% for commit in commits %}
        - {% if commit.scope %}*({{ commit.scope }})* {% endif %}\
            {% if commit.breaking %}[**breaking**] {% endif %}\
            {{ commit.message | upper_first }}\
    {% endfor %}
{% endfor %}\n
"""

# åˆ é™¤ä¸€äº›ä¸éœ€è¦çš„åˆ†ç»„
trim = true
# æ’é™¤ä¸€äº› commit
exclude_path = "^(internal)/"

[git]
# å…è®¸ä½¿ç”¨å¸¸è§„ commit
conventional_commits = true
# è§£æ commit ä¿¡æ¯çš„æ­£åˆ™è¡¨è¾¾å¼
commit_parsers = [
    { message = "^feat", group = "<!-- 0 -->â›°ï¸  Features" },
    { message = "^fix", group = "<!-- 1 -->ğŸ› Bug Fixes" },
    { message = "^doc", group = "<!-- 3 -->ğŸ“š Documentation" },
    { message = "^perf", group = "<!-- 4 -->âš¡ Performance" },
    { message = "^refactor\\(clippy\\)", skip = true },
    { message = "^refactor", group = "<!-- 2 -->ğŸšœ Refactor" },
    { message = "^style", group = "<!-- 5 -->ğŸ¨ Styling" },
    { message = "^test", group = "<!-- 6 -->ğŸ§ª Testing" },
    { body = ".*security", group = "<!-- 7 -->ğŸ›¡ï¸ Security" },
    { message = "^revert", group = "<!-- 8 -->â—€ï¸ Revert" },
]
# è§£æ commit ä½œè€…çš„æ­£åˆ™è¡¨è¾¾å¼
commit_author_parsers = [{ name = ".*", signature = "" }]
# ä¸åŒ¹é…çš„æäº¤å°†è¢«è¿‡æ»¤æ‰
filter_commits = true
# å¿½ç•¥ä¸€äº› commit
ignore_tags = "^v0\\."
# æ ‡ç­¾å‰ç¼€
tag_pattern = "v[0-9]*"

[git.filter]
# æäº¤æ¶ˆæ¯ä¸­çš„å…³é”®è¯
commit_message = "^(feat|fix|doc|perf|refactor|style|test|security|revert)"
# æäº¤çš„æ–‡ä»¶è·¯å¾„
commit_files = []
